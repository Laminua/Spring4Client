<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<script src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
      integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="/css/user_style.css">

<head>
    <meta charset="UTF-8">
    <title>Questions</title>
</head>
<body>

<script type="text/javascript">
    $(document).ready(function () {
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('id');
        $.ajax({
                url: 'tests/questions/' + id,
                dataType: 'text',
                type: 'GET',
                success: function (data) {

                    let question = "";
                    let answers = "";
                    let questions = $.parseJSON(data);
                    let i = 0;

                    for (i = 0; i < questions.length; i++) {
                        let question_id = questions[i].id;
                        question = questions[i].question;
                        document.getElementById("question").innerHTML = question;
                        document.getElementById("answers").innerHTML = answers;

                        let map = questions[i].answers;
                        for (var j = 0, keys = Object.keys(map), jj = keys.length; j < jj; j++) {
                            answers += keys[j] + ":" + map[keys[j]];
                        }
                    }
                }
            }
        )
    });
</script>
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark py-4">
</nav>

<main role="main">

    <div class="jumbotron">
        <div class="container" id="container">
            <p><span style="font-weight: bold" id="question"></span></p>

            <p><span id="answers"></span></p>
            <p><a id="testing"></a></p>
        </div>
    </div>
    <hr>

</main>

<footer class="container">
    <p>&copy; Yartsev Kirill, 2023</p>
</footer>

<div class="container">
    <div class="row">
        <div class="col text-center">
            <a class="btn btn-primary" href="/user/testing">Вернуться к списку тестов</a>
        </div>
    </div>
</div>
</body>
</html>